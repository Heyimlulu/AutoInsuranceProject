<!DOCTYPE html>
<html lang="en">
<head>
<title>Auto Insurance Application</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap 5.0 CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
<!-- JQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- Bootstrap 5.0 Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<!-- Script files -->
<script type="text/javascript" src="/js/update_policy.js"></script>
<!-- Custom CSS -->
<link rel="stylesheet" href="./css/styles.css">
<script>
	/* Get input field parameter in URL */
    window.onload = function () {
    var url = document.location.href,
        params = url.split('?')[1].split('&'),
        data = {}, tmp;
    for (var i = 0, l = params.length; i < l; i++) {
         tmp = params[i].split('=');
         data[tmp[0]] = tmp[1];
    }
	
	/* Decode input field to avoid URL syntax */
    document.getElementById('policy_id').value = decodeURI(data.id);
    document.getElementById('policy_number').value = decodeURI(data.policynumber);
    document.getElementById('policy_effective_date').value = decodeURI(data.effectivedate);
    document.getElementById('policy_expire_date').value = decodeURI(data.expiredate);
    document.getElementById('payment_option').value = decodeURI(data.paymentoption);
    document.getElementById('total_amount').value = decodeURI(data.totalamount);
    document.getElementById('active').value = decodeURI(data.active);
    document.getElementById('additional_infos').value = decodeURI(data.additionalinfos);
    document.getElementById('creation_date').value = decodeURI(data.creationdate);
}
</script>
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light" style="margin-bottom: 1.6rem;">
		<div class="container-fluid">
		  <a class="navbar-brand" href="/">Auto Insurance</a>
		  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		  </button>
		  <div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav me-auto mb-2 mb-lg-0">
			  <li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Policy</a>
				<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
				  <li><a class="dropdown-item" href="/">Add New</a></li>
				  <li><a class="dropdown-item" href="/policies.html">All policies</a></li>
				</ul>
			  </li><!-- Policy pages -->
			  <li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Policy Edit Log</a>
				<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
				  <li><a class="dropdown-item" href="/policy_edit_log_add.html">Add Edit Log</a></li>
				  <li><a class="dropdown-item" href="/edit_policies.html">All Edit Log Policies</a></li>
				</ul>
			  </li><!-- Policy Edit Log pages -->
			</ul>
		  </div>
		</div>
	  </nav>
	<div class="container">
		<div class="row">
            <div class="col-sm-6" style="background-color:#e6fffa; padding:10px; border-radius:3px; margin: auto" id="div_policy_updating">
                <h3>Update Policy</h3>
				<form id="update_policy_form">
					<div class="form-group">
						<label for="policy_id">Id:</label>
						<input type="number" class="form-control" id="policy_id" readonly>
					</div>
					<div class="form-group">
						<label for="policy_number">Policy Number:</label>
						<input type="text" class="form-control" placeholder="Enter Policy number" id="policy_number">
					</div>
					<div class="form-group">
						<label for="policy_effective_date">Effective Date:</label>
						<input type="date" class="form-control" placeholder="Enter Effective date" id="policy_effective_date">
					</div>				  
					<div class="form-group">
						<label for="policy_expire_date">Expire Date:</label>
						<input type="date" class="form-control" placeholder="Enter Expire date" id="policy_expire_date">
					</div>				  				
					<div class="form-group">
						<label for="payment_option">Payment option:</label>
						<input type="text" class="form-control" 
								placeholder="Enter payment option" id="payment_option">
					</div>
					<div class="form-group">
						<label for="total_amount">Total amount:</label>
						<input type="number" class="form-control" 
								placeholder="Enter the total amount" id="total_amount">
					</div>
					<div class="form-group">
						<label for="active">Active?</label>
						<select id="active" class="form-select" aria-label="Default select example">
							<option value="true">Yes</option>
							<option value="false">No</option>
						</select>
					</div>
					<div class="form-group">
						<label for="additional_infos">Additional Infos:</label>
						<input type="text" class="form-control" 
								placeholder="Enter additional infos" id="additional_infos">
					</div>
					<div class="form-group">
						<label for="creation_date">Creation date:</label>
						<input type="date" class="form-control" 
								placeholder="Enter creation date" id="creation_date">
					</div>				  				
					<button type="submit" class="btn btn-primary">Submit</button>
				</form>
				<div id="response" style="display:none; margin:10px">
				</div>
			</div>
		</div>
		<hr>
	</div>
</body>
</html>