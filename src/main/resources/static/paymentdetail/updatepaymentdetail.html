<!DOCTYPE html>
<html lang="en">
<head>
    <title>Auto Insurance Application | Update Payment Detail</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap 5.0 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Bootstrap 5.0 Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <!-- Script files -->
    <script type="text/javascript" src="/js/update_bill.js"></script>
    <script src="../js/sidebar.js"></script>
    <script src="../js/navbar.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/styles.css">
    <script>
        /* Get input field parameter in URL */
        window.onload = function () {
            var url = document.location.href,
                params = url.split('?')[1].split('&'),
                data = {}, tmp;
            for (var i = 0, l = params.length; i < l; i++) {
                tmp = params[i].split('=');
                data[tmp[0]] = tmp[1];
            }

            console.log(data);

            /* Decode input field to avoid URL syntax */
            document.getElementById('billID').value = decodeURI(data.id);
            document.getElementById('createdDate').value = decodeURI(data.createdDate);
            document.getElementById('paidDate').value = decodeURI(data.paidDate);

            document.getElementById('payerFirstname').value = decodeURI(data.payerFirstName);
            document.getElementById('payerLastname').value = decodeURI(data.payerLastname);
            document.getElementById('amount').value = decodeURI(data.amount);
            document.getElementById('paymentMethod').value = decodeURI(data.paymentMethod);
            document.getElementById('debitCredit').value = decodeURI(data.debitCredit);
            document.getElementById('additionalInfo').value = decodeURI(data.additionalInfo);

            document.getElementById('cardNumber').value = decodeURI(data.cardNumber);
            document.getElementById('zipCode').value = decodeURI(data.zipCode);
            document.getElementById('cardExpireDate').value = decodeURI(data.cardExpireDate);
            document.getElementById('cardType').value = decodeURI(data.cardType);

            document.getElementById('bankName').value = decodeURI(data.bankName);
            document.getElementById('routingNumber').value = decodeURI(data.routingNumber);
            document.getElementById('accountNumber').value = decodeURI(data.accountNumber);
            document.getElementById('checkNumber').value = decodeURI(data.checkNumber);
        }
    </script>
</head>
<body>
<div id="navbar"></div>
<div id="sidebar"></div>
<div class="container">
    <div class="row">
        <div class="col-sm-6 form-design" id="div_edit_log_policy_updating">
            <form id="add_new_paymentdetail" class="row">
                <div class="form-group col-12">
                    <label class="control-label" for="billID">Bill ID:</label>
                    <input type="number" class="form-control" id="billID" placeholder="Enter Bill ID" name="billID" readonly></input>
                </div>
                <div class="form-group col-6">
                    <label class="control-label" for="createdDate">Created Date:</label>
                    <input type="date" class="form-control" id="createdDate" placeholder="Enter Creation Date" name="createdDate" required></input>
                </div>
                <div class="form-group col-6">
                    <label class="control-label" for="paidDate">Due Date:</label>
                    <input type="date" class="form-control" id="paidDate" placeholder="Enter Paid Date" name="paidDate" min="" required></input>
                </div>

                <h4 class="subtitle"><span>General Informations</span></h4>
                <div class="form-group col-md-6">
                    <label class="control-label" for="payerFirstname">Payer Firstname:</label>
                    <input type="text" class="form-control" id="payerFirstname" placeholder="Enter Payer Firstname" name="payerFirstname" required></input>
                </div>
                <div class="form-group col-md-6">
                    <label class="control-label" for="payerLastname">Payer Lastname:</label>
                    <input type="text" class="form-control" id="payerLastname" placeholder="Enter Payer Lastname" name="payerLastname" required></input>
                </div>
                <div class="form-group col-12">
                    <label class="control-label" for="amount">Amount:</label>
                    <input type="number" class="form-control" id="amount" placeholder="Enter Amount" name="amount" min="" required></input>
                </div>
                <div class="form-group col-12">
                    <label for="paymentMethod">Payment Method:</label>
                    <select id="paymentMethod" class="form-select" aria-label="Default select">
                        <option value="6 months payment">6 months payment</option>
                        <option value="Annual payment">Annual payment</option>
                        <option value="Full payment">Full payment</option>
                    </select>
                </div>
                <div class="form-group col-12">
                    <label for="debitCredit">Debit or Credit:</label>
                    <select id="debitCredit" class="form-select" aria-label="Default select">
                        <option value="Debit">Debit</option>
                        <option value="Credit">Credit</option>
                    </select>
                </div>
                <div class="form-group col-12">
                    <label class="control-label" for="additionalInfo">Additional Info:</label>
                    <input type="text" class="form-control" id="additionalInfo" placeholder="Enter Additional Info" name="additionalInfo" required></input>
                </div>

                <h4 class="subtitle"><span>Credit Card Informations</span></h4>
                <div class="form-group col-9">
                    <label class="control-label" for="cardNumber">Card Number:</label>
                    <input type="number" class="form-control" id="cardNumber" placeholder="Enter Card Number" name="cardNumber" required></input>
                </div>
                <div class="form-group col-3">
                    <label class="control-label" for="zipCode">Zip Code:</label>
                    <input type="number" class="form-control" id="zipCode" placeholder="Enter Zip Code" name="zipCode" required></input>
                </div>
                <div class="form-group col-12">
                    <label class="control-label" for="cardExpireDate">Card Expire Date:</label>
                    <input type="date" class="form-control" id="cardExpireDate" placeholder="Enter Card Expire Date" name="cardExpireDate" required></input>
                </div>
                <div class="form-group col-12">
                    <label for="cardType">Card Type:</label>
                    <select id="cardType" class="form-select" aria-label="Default select">
                        <option value="Mastercard">Mastercard</option>
                        <option value="Visa">Visa</option>
                    </select>
                </div>

                <h4 class="subtitle"><span>Bank Informations</span></h4>
                <div class="form-group col-12">
                    <label class="control-label" for="bankName">Bank Name:</label>
                    <input type="text" class="form-control" id="bankName" placeholder="Enter Bank Name" name="bankName" required></input>
                </div>
                <div class="form-group col-4">
                    <label class="control-label" for="routingNumber">Routing Number:</label>
                    <input type="number" class="form-control" id="routingNumber" placeholder="Enter Routing Number" name="routingNumber" required></input>
                </div>
                <div class="form-group col-4">
                    <label class="control-label" for="accountNumber">Account Number:</label>
                    <input type="number" class="form-control" id="accountNumber" placeholder="Enter Account Number" name="accountNumber" required></input>
                </div>
                <div class="form-group col-4">
                    <label class="control-label" for="checkNumber">Check Number:</label>
                    <input type="number" class="form-control" id="checkNumber" placeholder="Enter Check Number" name="checkNumber" required></input>
                </div>
                <button type="submit" class="btn btn-danger col-3" id="btn-add-new-policy">Submit</button>
            </form>
            <div id="response" style="display: none; margin: 10px"></div>
        </div>
    </div>
    <hr>
</div>
</body>
</html>